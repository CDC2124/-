import streamlit as st
import pandas as pd
import numpy as np
import os
import sys

# æ·»åŠ å½“å‰ç›®å½•åˆ°è·¯å¾„
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

# è®¾ç½®é¡µé¢é…ç½®
st.set_page_config(
    page_title="ç”Ÿäº§éœ€æ±‚ç³»ç»Ÿ",
    page_icon="ğŸ“Š",
    layout="wide",
    initial_sidebar_state="expanded",
)

# è®¾ç½®åº”ç”¨æ ‡é¢˜
st.title("ç”Ÿäº§éœ€æ±‚è§„åˆ’ç³»ç»Ÿ")

# æ¬¢è¿ä¿¡æ¯å’Œç³»ç»Ÿç®€ä»‹
st.markdown("""
## æ¬¢è¿ä½¿ç”¨ç”Ÿäº§éœ€æ±‚è§„åˆ’ç³»ç»Ÿ

æœ¬ç³»ç»ŸåŸºäºå†å²å‡ºè´§æ•°æ®ï¼Œå¸®åŠ©æ‚¨ç”Ÿæˆ:
1. ğŸ“ˆ **æœˆåº¦é”€å”®é¢„æµ‹**
2. ğŸ­ **ç”Ÿäº§è®¡åˆ’**
3. ğŸ§° **åŸææ–™éœ€æ±‚è®¡åˆ’(MRP)**

### ä½¿ç”¨æŒ‡å—

è¯·é€šè¿‡å·¦ä¾§å¯¼èˆªæ è®¿é—®å„ä¸ªåŠŸèƒ½æ¨¡å—:
- **æ•°æ®ä¸Šä¼ ä¸åˆ†æ**: ä¸Šä¼ å¹¶åˆ†æå†å²å‡ºè´§æ•°æ®
- **é”€å”®é¢„æµ‹**: ç”Ÿæˆå¹¶è°ƒæ•´æœˆåº¦é”€å”®é¢„æµ‹
- **ç”Ÿäº§è®¡åˆ’**: åŸºäºé¢„æµ‹ä¼˜åŒ–ç”Ÿäº§è®¡åˆ’
- **ç‰©æ–™æ¸…å•ç®¡ç†**: ä¸Šä¼ å’Œç®¡ç†BOMæ¸…å•
- **åŸææ–™éœ€æ±‚è®¡åˆ’**: ç”ŸæˆMRPè®¡åˆ’

### æ ¸å¿ƒåŠŸèƒ½

- å¤šç®—æ³•é”€å”®é¢„æµ‹
- æ™ºèƒ½ç”Ÿäº§è®¡åˆ’ä¼˜åŒ–
- å¤šçº§BOMæ”¯æŒ
- åŸææ–™éœ€æ±‚è‡ªåŠ¨è®¡ç®—å’Œä¼˜åŒ–
- å¯è§†åŒ–å±•ç¤ºå’ŒæŠ¥è¡¨å¯¼å‡º
""")

# ç³»ç»ŸçŠ¶æ€å’Œæ•°æ®æµå±•ç¤º
col1, col2 = st.columns(2)

with col1:
    st.subheader("ç³»ç»Ÿå·¥ä½œæµç¨‹")
    st.image("https://via.placeholder.com/500x300?text=ç³»ç»Ÿæµç¨‹å›¾", caption="æ•°æ®æµç¨‹ç¤ºæ„å›¾")

with col2:
    st.subheader("å¿«é€Ÿå¼€å§‹")
    
    st.info("**ç¬¬1æ­¥**: ä¸Šä¼ å†å²å‡ºè´§æ•°æ®")
    if st.button("å‰å¾€æ•°æ®ä¸Šä¼ é¡µé¢"):
        st.switch_page("pages/01_æ•°æ®ä¸Šä¼ ä¸åˆ†æ.py")
    
    st.info("**ç¬¬2æ­¥**: æŸ¥çœ‹é”€å”®é¢„æµ‹")
    if st.button("å‰å¾€é”€å”®é¢„æµ‹é¡µé¢"):
        st.switch_page("pages/02_é”€å”®é¢„æµ‹.py")
    
    st.info("**ç¬¬3æ­¥**: ä¸Šä¼ ç‰©æ–™æ¸…å•(BOM)")
    if st.button("å‰å¾€BOMç®¡ç†é¡µé¢"):
        st.switch_page("pages/04_ç‰©æ–™æ¸…å•ç®¡ç†.py")

# æ£€æŸ¥ç¤ºä¾‹æ•°æ®
if not os.path.exists(os.path.join("data", "samples", "example_shipment_data.csv")):
    st.warning("ç¤ºä¾‹æ•°æ®æœªæ‰¾åˆ°ã€‚é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œè¯·ä¸Šä¼ æ•°æ®æˆ–è”ç³»ç³»ç»Ÿç®¡ç†å‘˜ã€‚")

# é¡µè„š
st.markdown("---")
st.markdown("Â© 2025 ç”Ÿäº§éœ€æ±‚è§„åˆ’ç³»ç»Ÿ | åŸºäºStreamlitå¼€å‘")